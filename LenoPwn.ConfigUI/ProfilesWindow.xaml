<ui:FluentWindow
    x:Class="LenoPwn.ConfigUI.ProfilesWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    Title="Manage Profiles"
    Width="600" Height="400"
    WindowStartupLocation="CenterOwner"
    WindowBackdropType="Mica"
    ExtendsContentIntoTitleBar="True">

    <Grid Margin="15,40,15,15">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <DataGrid x:Name="DgvProfiles" Grid.Row="0" AutoGenerateColumns="False" CanUserAddRows="False" ItemsSource="{Binding Profiles}">
            <DataGrid.Columns>
                <DataGridTextColumn Width="*" Binding="{Binding Name}" Header="Profile Name" IsReadOnly="True" />
                <DataGridTemplateColumn Width="Auto">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <ui:Button Content="Load" Click="BtnLoad_Click" Margin="5"/>
                                <ui:Button Content="Delete" Click="BtnDelete_Click" Margin="5" Appearance="Secondary"/>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>

        <TextBlock x:Name="TxtNoProfiles" Grid.Row="0" Text="No existing profiles." VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="16" Visibility="Collapsed"/>

        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
            <ui:Button Content="Save current config as profile" Click="BtnSave_Click" Margin="0,0,10,0"/>
            <ui:Button Content="Close" IsDefault="True" Click="BtnClose_Click"/>
        </StackPanel>
    </Grid>
</ui:FluentWindow>